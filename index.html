<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Feedback</title>
</head>
<body>
  <h2>Event Feedback</h2>

  <form id="feedbackForm" action="https://script.google.com/macros/s/AKfycbzqOxa8ZvNV7XK2ACABVt129BF70dHaG75mvMMSVEIlPnVedYD51OoA38Pi3OL5gbCioQ/exec" method="POST" target="thankwin">
    <input name="feedback" id="feedback" type="text" placeholder="Enter a word..." required />
    <button type="submit" id="submitBtn">Submit</button>
  </form>

  <script>
    document.getElementById('feedbackForm').addEventListener('submit', function(e){
      // Open (or focus) the thank-you window immediately — this makes it a user gesture so it can be closed later.
      var win = window.open('about:blank', 'thankwin');
      // Do nothing else — form will submit to the Apps Script and the response (Apps Script) will redirect that window to your Netlify thankyou page.
      // If popup blocked, the browser will open the response in same tab — that's acceptable fallback.
    });
  </script>
</body>
</html>
